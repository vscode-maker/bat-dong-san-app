(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4040],{3010:(e,s,t)=>{Promise.resolve().then(t.bind(t,7948))},3209:(e,s,t)=>{"use strict";t.d(s,{Wu:()=>d,ZB:()=>c,Zp:()=>l,aR:()=>i});var r=t(5155),a=t(2115),n=t(5016);let l=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});l.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});c.displayName="CardTitle",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("text-sm text-muted-foreground",t),...a})}).displayName="CardDescription";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("p-6 pt-0",t),...a})});d.displayName="CardContent",a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,n.cn)("flex items-center p-6 pt-0",t),...a})}).displayName="CardFooter"},4916:(e,s,t)=>{"use strict";t.d(s,{S:()=>c});var r=t(5155),a=t(2115),n=t(8162),l=t(5917),i=t(5016);let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)(n.bL,{ref:s,className:(0,i.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...a,children:(0,r.jsx)(n.C1,{className:"flex items-center justify-center text-current",children:(0,r.jsx)(l.A,{className:"h-4 w-4"})})})});c.displayName=n.bL.displayName},5021:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var r=t(5155),a=t(5239),n=t(2115);function l(e){let{src:s,alt:t,fallback:l="/placeholder.svg?height=200&width=300",...i}=e,[c,d]=(0,n.useState)(!1);return(0,r.jsx)(a.default,{...i,src:(!c&&s?s:l)||"/placeholder.svg",alt:t,onError:()=>d(!0)})}},6351:(e,s,t)=>{"use strict";t.d(s,{A:()=>o,MobileNavigation:()=>o});var r=t(5155),a=t(2619),n=t.n(a),l=t(63),i=t(5993),c=t(3457),d=t(508);let h=[{name:"Trang chủ",href:"/",icon:i.A},{name:"Y\xeau th\xedch",href:"/favorites",icon:c.A},{name:"C\xe1 nh\xe2n",href:"/profile",icon:d.A}];function o(){let e=(0,l.usePathname)();return(0,r.jsx)("div",{className:"px-2 py-1",children:(0,r.jsx)("div",{className:"flex justify-around items-center",children:h.map(s=>{let t=e===s.href;return(0,r.jsxs)(n(),{href:s.href,className:"flex flex-col items-center py-1.5 px-2 rounded-xl transition-all duration-200 min-w-0 ".concat(t?"text-white bg-white/20 backdrop-blur-sm scale-105":"text-white/70 hover:text-white hover:bg-white/10"),children:[(0,r.jsx)(s.icon,{className:"w-5 h-5 mb-0.5 ".concat(t?"scale-110":""," transition-transform")}),(0,r.jsx)("span",{className:"text-[10px] font-medium leading-tight ".concat(t?"font-semibold":""),children:s.name})]},s.name)})})})}},7688:(e,s,t)=>{"use strict";t.d(s,{Bi:()=>n,NC:()=>c,lt:()=>d,mz:()=>i,xj:()=>l});var r=t(2115),a=t(4440);function n(e){let{getProperties:s,loading:t,errors:n}=(0,a.d)();return{properties:(0,r.useMemo)(()=>s(e),[s,e]),loading:t.properties,error:n.properties,refetch:()=>{}}}function l(e){return n({...e,transactionType:"rent"})}function i(e){return n({...e,transactionType:"sale"})}function c(e){let{getProperty:s,loading:t,errors:n}=(0,a.d)();return{property:(0,r.useMemo)(()=>s(e),[s,e]),loading:t.properties,error:n.properties}}function d(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return n({featured:!0,limit:e})}},7812:(e,s,t)=>{"use strict";t.d(s,{E:()=>i});var r=t(5155);t(2115);var a=t(3101),n=t(5016);let l=(0,a.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...a}=e;return(0,r.jsx)("div",{className:(0,n.cn)(l({variant:t}),s),...a})}},7948:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>z});var r=t(5155),a=t(2115),n=t(2619),l=t.n(n),i=t(63),c=t(5626),d=t(3457),h=t(8314),o=t(6891),x=t(1873),m=t(5917),u=t(5299),f=t(1360),g=t(7003),b=t(3209),p=t(8122),j=t(7812),N=t(4916),v=t(6351),y=t(3163),w=t(7688),C=t(9497),A=t(1890),k=t(5021);function z(){let{userId:e,loading:s}=(0,C.A)(),{favorites:t,loading:n,error:z,hasUser:S,toggleFavorite:E,isToggling:T}=(0,y.e)(),{properties:$,loading:R}=(0,w.Bi)(),{success:B,warning:_}=(0,A.d)(),D=(0,i.useRouter)(),[L,Z]=(0,a.useState)([]),[H,M]=(0,a.useState)(!1),[O,P]=(0,a.useState)(new Set),q=$.filter(e=>t.has(e.id)),F=async e=>{if(S)try{Z(s=>[...s,e]),await E(e),B("Th\xe0nh c\xf4ng","Đ\xe3 bỏ y\xeau th\xedch")}catch(e){console.error("Error removing favorite:",e)}finally{Z(s=>s.filter(s=>s!==e))}};return S||s?n||R||s?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,r.jsxs)("header",{className:"bg-white border-b p-4 flex items-center gap-3",children:[(0,r.jsx)(l(),{href:"/".concat(e?"?id=".concat(e):""),children:(0,r.jsx)(g.$,{variant:"ghost",size:"sm",className:"p-2",children:(0,r.jsx)(c.A,{className:"w-5 h-5"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Tin y\xeau th\xedch"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Đang tải..."})]})]}),(0,r.jsx)("div",{className:"p-4 space-y-4",children:[1,2,3,4,5].map(e=>(0,r.jsx)(b.Zp,{className:"overflow-hidden bg-white border-0 shadow-sm",children:(0,r.jsxs)("div",{className:"flex gap-4 p-4",children:[(0,r.jsx)(p.E,{className:"w-24 h-24 rounded-lg flex-shrink-0"}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,r.jsx)(p.E,{className:"h-4 w-full"}),(0,r.jsx)(p.E,{className:"h-4 w-3/4"}),(0,r.jsx)(p.E,{className:"h-3 w-1/2"}),(0,r.jsx)(p.E,{className:"h-3 w-1/4"})]})]})},e))}),(0,r.jsx)(v.A,{})]}):z?(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,r.jsxs)("header",{className:"bg-white border-b p-4 flex items-center gap-3",children:[(0,r.jsx)(l(),{href:"/".concat(e?"?id=".concat(e):""),children:(0,r.jsx)(g.$,{variant:"ghost",size:"sm",className:"p-2",children:(0,r.jsx)(c.A,{className:"w-5 h-5"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Tin y\xeau th\xedch"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"C\xf3 lỗi xảy ra"})]})]}),(0,r.jsx)("div",{className:"p-4 text-center space-y-4",children:(0,r.jsxs)("div",{className:"py-12",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-red-50 flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(d.A,{className:"w-8 h-8 text-red-500"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Kh\xf4ng thể tải danh s\xe1ch y\xeau th\xedch"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:z}),(0,r.jsxs)(g.$,{onClick:()=>window.location.reload(),className:"bg-gradient-to-r from-[#00294d] to-[#003d6b] hover:from-[#003d6b] hover:to-[#004d84] text-white font-semibold py-3 px-6 rounded-xl shadow-lg",children:[(0,r.jsx)(h.A,{className:"w-4 h-4 mr-2"}),"Thử lại"]})]})}),(0,r.jsx)(v.A,{})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,r.jsxs)("header",{className:"bg-white border-b p-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(l(),{href:"/".concat(e?"?id=".concat(e):""),children:(0,r.jsx)(g.$,{variant:"ghost",size:"sm",className:"p-2",children:(0,r.jsx)(c.A,{className:"w-5 h-5"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Tin y\xeau th\xedch"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:q.length>0?"".concat(q.length," bất động sản đ\xe3 lưu"):"Danh s\xe1ch bất động sản đ\xe3 lưu"})]})]}),q.length>=2&&(0,r.jsx)("div",{className:"flex gap-2",children:H?(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(g.$,{onClick:()=>{M(!1),P(new Set)},variant:"ghost",size:"sm",children:"Hủy"}),(0,r.jsxs)(g.$,{onClick:()=>{if(O.size<2)return void _("Chọn \xedt nhất 2 BDS","Vui l\xf2ng chọn \xedt nhất 2 bất động sản để so s\xe1nh");let s=q.filter(e=>O.has(e.id));localStorage.setItem("compareList",JSON.stringify(s)),B("Chuyển đến so s\xe1nh","Đang so s\xe1nh ".concat(O.size," bất động sản")),D.push("/compare".concat(e?"?id=".concat(e):""))},disabled:O.size<2,size:"sm",className:"bg-blue-600 hover:bg-blue-700 text-white",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 mr-1"}),"So s\xe1nh (",O.size,")"]})]}):(0,r.jsxs)(g.$,{onClick:()=>M(!0),variant:"outline",size:"sm",className:"text-blue-600 border-blue-200 hover:bg-blue-50",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 mr-1"}),"So s\xe1nh"]})})]}),H&&(0,r.jsx)("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(o.A,{className:"w-4 h-4 text-blue-600"}),(0,r.jsx)("span",{className:"text-sm font-medium text-blue-900",children:"Chế độ so s\xe1nh"}),(0,r.jsxs)(j.E,{variant:"secondary",className:"bg-blue-100 text-blue-800",children:[O.size,"/4"]})]}),(0,r.jsx)("p",{className:"text-xs text-blue-700",children:"Chọn 2-4 bất động sản để so s\xe1nh"})]})})]}),(0,r.jsx)("div",{className:"p-4",children:0===q.length?(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(d.A,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Chưa c\xf3 tin y\xeau th\xedch"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"H\xe3y kh\xe1m ph\xe1 v\xe0 lưu những bất động sản bạn quan t\xe2m"}),(0,r.jsx)(l(),{href:"/".concat(e?"?id=".concat(e):""),children:(0,r.jsx)(g.$,{className:"bg-gradient-to-r from-[#00294d] to-[#003d6b] hover:from-[#003d6b] hover:to-[#004d84] text-white font-semibold py-3 px-6 rounded-xl shadow-lg",children:"Kh\xe1m ph\xe1 ngay"})})]}):(0,r.jsx)("div",{className:"space-y-4",children:q.map(s=>{var t;return(0,r.jsx)(b.Zp,{className:"overflow-hidden bg-white border-0 shadow-sm hover:shadow-md transition-all ".concat(H&&O.has(s.id)?"ring-2 ring-blue-500 bg-blue-50":""),children:(0,r.jsxs)("div",{className:"flex gap-4 p-4",children:[H&&(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,r.jsx)(N.S,{checked:O.has(s.id),onCheckedChange:()=>{var e;return e=s.id,void P(s=>{let t=new Set(s);if(t.has(e))t.delete(e);else{if(t.size>=4)return _("Giới hạn so s\xe1nh","Chỉ c\xf3 thể so s\xe1nh tối đa 4 bất động sản c\xf9ng l\xfac"),s;t.add(e)}return t})},className:"w-5 h-5"})}),(0,r.jsx)(l(),{href:"/property/".concat(s.id).concat(e?"?id=".concat(e):""),className:"flex-shrink-0",children:(0,r.jsx)("div",{className:"w-24 h-24 bg-gray-200 rounded-lg overflow-hidden",children:(0,r.jsx)(k.A,{src:s.image||(null==(t=s.images)?void 0:t[0])||"/placeholder.svg?height=96&width=96&query=real-estate",alt:s.title,width:96,height:96,className:"w-full h-full object-cover"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsx)(l(),{href:"/property/".concat(s.id).concat(e?"?id=".concat(e):""),children:(0,r.jsx)("h3",{className:"font-semibold text-gray-900 line-clamp-2 mb-2 hover:text-[#00294d] transition-colors",children:s.title})}),(0,r.jsx)("div",{className:"text-lg font-bold text-red-600 mb-2",children:s.priceText}),(0,r.jsxs)("div",{className:"flex items-center text-gray-500 text-sm mb-2",children:[(0,r.jsx)(x.A,{className:"w-4 h-4 mr-1 flex-shrink-0"}),(0,r.jsx)("span",{className:"line-clamp-1",children:s.location})]}),(0,r.jsxs)("div",{className:"flex gap-3 text-sm text-gray-600 mb-2",children:[(0,r.jsxs)("span",{children:[s.area,"m\xb2"]}),s.bedrooms>0&&(0,r.jsxs)("span",{children:["• ",s.bedrooms," PN"]}),s.bathrooms>0&&(0,r.jsxs)("span",{children:["• ",s.bathrooms," WC"]})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-400",children:["Loại: ","sale"===s.type?"B\xe1n":"Cho thu\xea"]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-2",children:[H&&O.has(s.id)&&(0,r.jsx)("div",{className:"flex items-center justify-center w-8 h-8 bg-blue-500 text-white rounded-full text-xs font-bold",children:(0,r.jsx)(m.A,{className:"w-4 h-4"})}),!H&&(0,r.jsx)(g.$,{size:"sm",variant:"ghost",className:"text-red-500 hover:text-red-600 hover:bg-red-50 p-2",onClick:()=>F(s.id),disabled:L.includes(s.id)||T(s.id),children:L.includes(s.id)||T(s.id)?(0,r.jsx)(u.A,{className:"w-4 h-4 animate-spin"}):(0,r.jsx)(f.A,{className:"w-4 h-4"})})]})]})},s.id)})})}),(0,r.jsx)(v.A,{})]}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,r.jsxs)("header",{className:"bg-white border-b p-4 flex items-center gap-3",children:[(0,r.jsx)(l(),{href:"/",children:(0,r.jsx)(g.$,{variant:"ghost",size:"sm",className:"p-2",children:(0,r.jsx)(c.A,{className:"w-5 h-5"})})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"Tin y\xeau th\xedch"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"Danh s\xe1ch bất động sản đ\xe3 lưu"})]})]}),(0,r.jsx)("div",{className:"p-4 text-center space-y-6",children:(0,r.jsxs)("div",{className:"py-12",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(d.A,{className:"w-8 h-8 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Đăng nhập để xem y\xeau th\xedch"}),(0,r.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:"Bạn cần đăng nhập để lưu v\xe0 xem danh s\xe1ch tin y\xeau th\xedch"}),(0,r.jsx)(g.$,{className:"bg-gradient-to-r from-[#00294d] to-[#003d6b] hover:from-[#003d6b] hover:to-[#004d84] text-white font-semibold py-3 px-6 rounded-xl shadow-lg",children:"Đăng nhập ngay"})]})}),(0,r.jsx)(v.A,{})]})}},8122:(e,s,t)=>{"use strict";t.d(s,{E:()=>n});var r=t(5155),a=t(5016);function n(e){let{className:s,...t}=e;return(0,r.jsx)("div",{className:(0,a.cn)("animate-pulse rounded-md bg-muted",s),...t})}}},e=>{e.O(0,[240,5239,3088,7601,1410,8441,1255,7358],()=>e(e.s=3010)),_N_E=e.O()}]);