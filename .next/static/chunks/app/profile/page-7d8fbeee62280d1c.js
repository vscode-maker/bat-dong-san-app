(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{235:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},508:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1169:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1524:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},1873:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},3209:(e,t,s)=>{"use strict";s.d(t,{Wu:()=>d,ZB:()=>n,Zp:()=>i,aR:()=>c});var a=s(5155),l=s(2115),r=s(5016);let i=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});i.displayName="Card";let c=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",s),...l})});c.displayName="CardHeader";let n=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});n.displayName="CardTitle",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-sm text-muted-foreground",s),...l})}).displayName="CardDescription";let d=l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("p-6 pt-0",s),...l})});d.displayName="CardContent",l.forwardRef((e,t)=>{let{className:s,...l}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("flex items-center p-6 pt-0",s),...l})}).displayName="CardFooter"},3457:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3664:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},5299:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5626:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5650:(e,t,s)=>{Promise.resolve().then(s.bind(s,7865))},5993:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]])},6351:(e,t,s)=>{"use strict";s.d(t,{A:()=>x,MobileNavigation:()=>x});var a=s(5155),l=s(2619),r=s.n(l),i=s(63),c=s(5993),n=s(3457),d=s(508);let o=[{name:"Trang chủ",href:"/",icon:c.A},{name:"Y\xeau th\xedch",href:"/favorites",icon:n.A},{name:"C\xe1 nh\xe2n",href:"/profile",icon:d.A}];function x(){let e=(0,i.usePathname)();return(0,a.jsx)("div",{className:"px-2 py-1",children:(0,a.jsx)("div",{className:"flex justify-around items-center",children:o.map(t=>{let s=e===t.href;return(0,a.jsxs)(r(),{href:t.href,className:"flex flex-col items-center py-1.5 px-2 rounded-xl transition-all duration-200 min-w-0 ".concat(s?"text-white bg-white/20 backdrop-blur-sm scale-105":"text-white/70 hover:text-white hover:bg-white/10"),children:[(0,a.jsx)(t.icon,{className:"w-5 h-5 mb-0.5 ".concat(s?"scale-110":""," transition-transform")}),(0,a.jsx)("span",{className:"text-[10px] font-medium leading-tight ".concat(s?"font-semibold":""),children:t.name})]},t.name)})})})}},6485:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},7865:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var a=s(5155),l=s(2619),r=s.n(l),i=s(5626),c=s(5299),n=s(1847);let d=(0,n.A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),o=(0,n.A)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);var x=s(3664),h=s(6485),m=s(1873),g=s(9141),u=s(508);let p=(0,n.A)("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]),f=(0,n.A)("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);var v=s(9347),j=s(1169),y=s(3457),N=s(235),b=s(1524),w=s(3209),_=s(7003),k=s(6351),A=s(9497),D=s(5239);function C(){var e,t,s,l;let{userId:n,userData:C,loading:S,isAuthenticated:M,logout:L,refreshUserData:T}=(0,A.A)();return S||M?S||!C?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,a.jsxs)("header",{className:"bg-white border-b p-4 flex items-center gap-3",children:[(0,a.jsx)(r(),{href:"/",className:"p-2 -ml-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,a.jsx)(i.A,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"C\xe1 nh\xe2n"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:S?"Đang kiểm tra đăng nhập...":"Đang tải th\xf4ng tin user ".concat(n,"...")})]})]}),(0,a.jsx)("div",{className:"p-4",children:(0,a.jsx)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-[#00294d] via-[#003d6b] to-[#004d84] p-6 text-white shadow-xl flex items-center justify-center h-32",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(c.A,{className:"w-8 h-8 animate-spin mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm",children:S?"Kiểm tra localStorage...":"Đang tải th\xf4ng tin..."})]})})}),(0,a.jsx)(k.A,{})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,a.jsxs)("header",{className:"bg-white border-b p-4 flex items-center gap-3",children:[(0,a.jsx)(r(),{href:"/?id=".concat(n),className:"p-2 -ml-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,a.jsx)(i.A,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"C\xe1 nh\xe2n"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Xin ch\xe0o, ",C.full_name]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(_.$,{onClick:T,variant:"ghost",size:"sm",className:"text-gray-600 hover:text-gray-700 hover:bg-gray-50",title:"L\xe0m mới dữ liệu",children:(0,a.jsx)(d,{className:"w-4 h-4"})}),(0,a.jsx)(_.$,{onClick:L,variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50",title:"Đăng xuất",children:(0,a.jsx)(o,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{className:"p-4 space-y-6",children:[(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-[#00294d] via-[#003d6b] to-[#004d84] p-6 text-white shadow-xl",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,a.jsx)("div",{className:"absolute -top-4 -right-4 h-24 w-24 rounded-full bg-white/10"}),(0,a.jsx)("div",{className:"absolute -bottom-6 -left-6 h-32 w-32 rounded-full bg-white/5"}),(0,a.jsxs)("div",{className:"relative z-10",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-400 rounded-full"}),(0,a.jsx)("span",{className:"text-xs text-green-100",children:"Dữ liệu từ localStorage"})]}),(0,a.jsxs)("span",{className:"text-xs text-blue-100 bg-white/10 px-2 py-1 rounded",children:["ID: ",n]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"relative",children:[C.avatar_url&&"/placeholder.svg"!==C.avatar_url&&!C.avatar_url.includes("placeholder")?(0,a.jsx)(D.default,{src:C.avatar_url||"/placeholder.svg",alt:C.full_name,width:80,height:80,className:"w-20 h-20 rounded-full border-4 border-white/20 object-cover shadow-lg",onError:e=>{e.currentTarget.style.display="none";let t=e.currentTarget.nextElementSibling;t&&t.classList.remove("hidden")}}):null,(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-white/20 flex items-center justify-center text-2xl font-bold border-4 border-white/20 shadow-lg ".concat(C.avatar_url&&"/placeholder.svg"!==C.avatar_url&&!C.avatar_url.includes("placeholder")?"hidden":""),children:(null==(t=C.full_name)||null==(e=t.charAt(0))?void 0:e.toUpperCase())||(null==(l=C.id)||null==(s=l.charAt(0))?void 0:s.toUpperCase())||"U"}),(0,a.jsx)("div",{className:"absolute -bottom-1 -right-1 w-6 h-6 rounded-full border-2 border-white ".concat(C.is_active?"bg-green-400":"bg-gray-400"),title:C.is_active?"Đang hoạt động":"Kh\xf4ng hoạt động"})]}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-xl font-bold mb-1",children:C.full_name}),(0,a.jsxs)("p",{className:"text-blue-100 text-sm mb-2 flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"w-3 h-3"}),C.email]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-xs text-blue-100 flex-wrap",children:[(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(h.A,{className:"w-3 h-3"}),"Tham\xa0gia\xa0",C.joinYear||new Date(C.created_at).getFullYear()]}),C.city&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.A,{className:"w-3 h-3"}),C.city]}),C.phone&&(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(g.A,{className:"w-3 h-3"}),C.phone]})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4 flex-wrap",children:[(0,a.jsxs)("span",{className:"px-3 py-1 bg-white/20 rounded-full text-xs font-medium flex items-center gap-1",children:[(0,a.jsx)(u.A,{className:"w-3 h-3"}),"agent"===C.user_type?"M\xf4i giới":"developer"===C.user_type?"Chủ đầu tư":"customer"===C.user_type?"Kh\xe1ch h\xe0ng":C.user_type]}),C.is_vip&&(0,a.jsxs)("span",{className:"px-3 py-1 bg-yellow-500/20 rounded-full text-xs font-medium flex items-center gap-1",children:[(0,a.jsx)(p,{className:"w-3 h-3"}),"VIP"]}),(0,a.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(C.is_active?"bg-green-500/20 text-green-100":"bg-gray-500/20 text-gray-100"),children:C.is_active?"Hoạt động":"Kh\xf4ng hoạt động"}),C.gender&&(0,a.jsx)("span",{className:"px-3 py-1 bg-white/10 rounded-full text-xs font-medium",children:"male"===C.gender?"Nam":"female"===C.gender?"Nữ":C.gender})]}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 pt-4 border-t border-white/20",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:C.total_favorites||0}),(0,a.jsx)("p",{className:"text-xs text-blue-100",children:"Tin y\xeau th\xedch"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:C.total_saved_filters||0}),(0,a.jsx)("p",{className:"text-xs text-blue-100",children:"Bộ lọc đ\xe3 lưu"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:C.total_consultations||0}),(0,a.jsx)("p",{className:"text-xs text-blue-100",children:"Tư vấn"})]})]})]})]}),(0,a.jsxs)(w.Zp,{className:"shadow-lg border-0 rounded-2xl overflow-hidden",children:[(0,a.jsx)(w.aR,{className:"bg-gradient-to-r from-gray-50 to-gray-100 pb-3",children:(0,a.jsx)(w.ZB,{className:"text-lg text-gray-800",children:"Th\xf4ng tin chi tiết"})}),(0,a.jsxs)(w.Wu,{className:"p-4 space-y-4",children:[(C.address||C.district||C.city)&&(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(m.A,{className:"w-5 h-5 text-gray-400 mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Địa chỉ"}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[C.address&&(0,a.jsx)("p",{children:C.address}),C.district&&(0,a.jsxs)("p",{children:["Quận/Huyện: ",C.district]}),C.city&&(0,a.jsxs)("p",{children:["Th\xe0nh phố: ",C.city]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.phone&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Số điện thoại"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:C.phone})]})]}),C.email&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(x.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Email"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:C.email})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[C.occupation&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(f,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Nghề nghiệp"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:C.occupation})]})]}),C.date_of_birth&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(h.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Ng\xe0y sinh"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:new Date(C.date_of_birth).toLocaleDateString("vi-VN")})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 pt-4 border-t border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(v.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Ng\xe0y tham gia"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:new Date(C.created_at).toLocaleDateString("vi-VN")})]})]}),C.last_login&&(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(j.A,{className:"w-5 h-5 text-gray-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:"Lần cuối truy cập"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[new Date(C.last_login).toLocaleDateString("vi-VN")," l\xfac"," ",new Date(C.last_login).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})]})]})]})]})]})]}),(0,a.jsxs)(w.Zp,{className:"shadow-lg border-0 rounded-2xl overflow-hidden",children:[(0,a.jsx)(w.aR,{className:"bg-gradient-to-r from-gray-50 to-gray-100 pb-3",children:(0,a.jsx)(w.ZB,{className:"text-lg text-gray-800",children:"Quản l\xfd mục đ\xe3 lưu"})}),(0,a.jsxs)(w.Wu,{className:"p-0",children:[(0,a.jsx)(r(),{href:"/favorites?id=".concat(n),className:"block",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors border-b border-gray-100",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-red-50 flex items-center justify-center",children:(0,a.jsx)(y.A,{className:"w-6 h-6 text-red-500"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Tin y\xeau th\xedch"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[C.total_favorites||0," bất động sản đ\xe3 lưu"]})]})]}),(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:"→"})]})}),(0,a.jsx)(r(),{href:"/filter?tab=saved&id=".concat(n),className:"block",children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 hover:bg-gray-50 transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-[#00294d] to-[#003d6b] flex items-center justify-center",children:(0,a.jsx)(N.A,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Bộ lọc đ\xe3 lưu"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[C.total_saved_filters||0," bộ lọc t\xecm kiếm"]})]})]}),(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center",children:"→"})]})})]})]}),(0,a.jsxs)(w.Zp,{className:"shadow-xl border-0 rounded-2xl overflow-hidden ".concat(C.is_vip?"bg-gradient-to-br from-amber-50 to-yellow-100":"bg-gradient-to-br from-gray-50 to-gray-100"),children:[(0,a.jsx)(w.aR,{className:"".concat(C.is_vip?"bg-gradient-to-r from-amber-400 to-yellow-500":"bg-gradient-to-r from-gray-400 to-gray-500"," text-white pb-4"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded-full bg-white/20 flex items-center justify-center",children:(0,a.jsx)(p,{className:"w-6 h-6 text-white"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)(w.ZB,{className:"text-lg font-bold",children:C.is_vip?"Hội vi\xean VIP":"N\xe2ng cấp VIP"}),(0,a.jsx)("p",{className:"text-sm ".concat(C.is_vip?"text-amber-100":"text-gray-100"),children:C.is_vip?"Đang hoạt động":"N\xe2ng cấp trải nghiệm của bạn"})]})]})}),(0,a.jsxs)(w.Wu,{className:"p-6 space-y-4",children:[C.is_vip&&C.vip_expires_at&&(0,a.jsxs)("div",{className:"bg-white rounded-lg p-3 border border-amber-200 text-center text-sm text-amber-800",children:[(0,a.jsx)("p",{className:"font-medium",children:"VIP hết hạn:"}),(0,a.jsx)("p",{className:"text-lg font-bold",children:new Date(C.vip_expires_at).toLocaleDateString("vi-VN")}),(0,a.jsxs)("p",{className:"text-xs mt-1",children:["C\xf2n"," ",Math.ceil((new Date(C.vip_expires_at).getTime()-new Date().getTime())/864e5)," ","ng\xe0y"]})]}),[["Tham gia group VIP tư vấn độc quyền",j.A],["Ph\xe2n t\xedch BĐS tiềm năng từ chuy\xean gia",b.A],["Ưu ti\xean hỗ trợ 24/7",v.A]].map(e=>{let[t,s]=e;return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(C.is_vip?"bg-amber-100":"bg-gray-100"," flex items-center justify-center"),children:(0,a.jsx)(s,{className:"w-4 h-4 ".concat(C.is_vip?"text-amber-600":"text-gray-600")})}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:t})]},t)}),C.is_vip?(0,a.jsx)("p",{className:"text-center text-sm font-medium text-amber-700",children:"\uD83C\uDF89 Cảm ơn bạn đ\xe3 l\xe0 th\xe0nh vi\xean VIP!"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl p-4 border border-gray-200 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"200.000đ"}),(0,a.jsx)("div",{className:"text-sm text-gray-600",children:"/ th\xe1ng"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200 text-center text-xs text-gray-800",children:[(0,a.jsx)("span",{className:"font-medium",children:"Lưu \xfd:"}),"\xa0Đăng k\xfd sẽ được x\xe9t duyệt trong v\xf2ng 24\xa0h"]}),(0,a.jsxs)(_.$,{className:"w-full bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white font-semibold py-3 rounded-xl shadow-lg",children:[(0,a.jsx)(p,{className:"w-4 h-4 mr-2"}),"Đăng k\xfd hội vi\xean VIP"]})]})]})]})]}),(0,a.jsx)(k.A,{})]}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 pb-20",children:[(0,a.jsxs)("header",{className:"bg-white border-b p-4 flex items-center gap-3",children:[(0,a.jsx)(r(),{href:"/",className:"p-2 -ml-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,a.jsx)(i.A,{className:"w-5 h-5 text-gray-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"C\xe1 nh\xe2n"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Chế độ kh\xe1ch"})]})]}),(0,a.jsx)("div",{className:"p-4 text-center space-y-6",children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-br from-gray-400 via-gray-500 to-gray-600 p-6 text-white shadow-xl",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/10"}),(0,a.jsx)("div",{className:"absolute -top-4 -right-4 h-24 w-24 rounded-full bg-white/10"}),(0,a.jsx)("div",{className:"absolute -bottom-6 -left-6 h-32 w-32 rounded-full bg-white/5"}),(0,a.jsxs)("div",{className:"relative z-10 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-white/20 flex items-center justify-center text-2xl font-bold mx-auto mb-4",children:"K"}),(0,a.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Kh\xe1ch"}),(0,a.jsx)("p",{className:"text-gray-100 text-sm mb-4",children:"Bạn đang ở chế độ kh\xe1ch"}),(0,a.jsx)("p",{className:"text-xs text-gray-200",children:"Kh\xf4ng t\xecm thấy th\xf4ng tin đăng nhập trong localStorage"})]})]})}),(0,a.jsx)(k.A,{})]})}},9141:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},9347:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1847).A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},9497:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(2115),l=s(63),r=s(7139);let i="real_estate_user_id",c="real_estate_user_data";function n(){var e;let[t,s]=(0,a.useState)(null),[n,d]=(0,a.useState)(null),[o,x]=(0,a.useState)(!0),h=(0,l.useRouter)(),m=(0,l.useSearchParams)(),g=null!=(e=null==m?void 0:m.get("id"))?e:null;(0,a.useEffect)(()=>r.$.subscribe(()=>{let e=r.$.getCurrentUser(),t=r.$.getCurrentUserId();if(e&&t){let a={id:e.id||e.user_id,email:e.email||"",full_name:e.full_name||e.name||"",phone:e.phone||"",user_type:e.user_type||"customer",is_vip:"Y"===e.is_vip||"TRUE"===e.is_vip||!0===e.is_vip,is_active:"Y"===e.is_active||"TRUE"===e.is_active||!0===e.is_active,avatar_url:e.avatar_url||"/placeholder.svg?height=80&width=80",address:e.address||"",city:e.city||"",district:e.district||"",date_of_birth:e.date_of_birth||"",gender:e.gender||"",occupation:e.occupation||"",created_at:e.created_at||"",updated_at:e.updated_at||"",last_login:e.last_login||"",total_favorites:e.total_favorites||0,total_saved_filters:e.total_saved_filters||0,total_consultations:e.total_consultations||0,vip_expires_at:e.vip_expires_at||null,joinYear:e.created_at?new Date(e.created_at).getFullYear().toString():"2023",isVipActive:"Y"===e.is_vip||"TRUE"===e.is_vip||!0===e.is_vip};d(a),s(t),localStorage.setItem(i,t),localStorage.setItem(c,JSON.stringify(a)),console.log("\uD83D\uDD10 useAuth synced with global store: ".concat(t),a.full_name)}else t||(d(null),s(null))}),[]),(0,a.useEffect)(()=>{let e=localStorage.getItem(i),a=localStorage.getItem(c);if(g&&g!==t)console.log("\uD83D\uDD10 URL user detected: ".concat(g,", letting global store handle it")),localStorage.setItem(i,g),s(g),r.$.checkAndLoadUserFromUrl();else if(e&&a&&!g){e!==t&&s(e);try{let t=JSON.parse(a);n!==t&&d(t),console.log("\uD83D\uDD10 User loaded from cache: ".concat(e),t.full_name)}catch(e){console.error("Error parsing cached user data:",e),localStorage.removeItem(c)}}else g||e||(null!==t&&s(null),null!==n&&d(null),console.log("\uD83D\uDD10 No user found"))},[g]),(0,a.useEffect)(()=>{let e=setTimeout(()=>{x(!1)},100);return()=>clearTimeout(e)},[t]);let u=(0,a.useCallback)(e=>{localStorage.setItem(i,e),s(e),r.$.loadCurrentUser(e),console.log("\uD83D\uDD10 User login initiated: ".concat(e))},[]),p=(0,a.useCallback)(()=>{localStorage.removeItem(i),localStorage.removeItem(c),s(null),d(null),console.log("\uD83D\uDD10 User logged out - cleared all data"),h.push("/")},[h]),f=(0,a.useCallback)(e=>{if(n){let t={...n,...e};d(t),localStorage.setItem(c,JSON.stringify(t)),console.log("\uD83D\uDD04 User data updated:",e)}},[n]),v=(0,a.useCallback)(()=>{t&&(console.log("\uD83D\uDD04 Refreshing user data via global store: ".concat(t)),r.$.refreshCurrentUser())},[t]),j=!!t;return{userId:t,userData:n,loading:o,isAuthenticated:j,login:u,logout:p,updateUserData:f,refreshUserData:v}}}},e=>{e.O(0,[240,5239,7601,8441,1255,7358],()=>e(e.s=5650)),_N_E=e.O()}]);